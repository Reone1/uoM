# TIL - 20210322

actions 세팅하면서 어려웠던 것

순서를 잘 나누는게 좋다.
문제 상황 1)
```yml
# 여기가 실행문 작성하는 곳
jobs:
 build:
    # The type of runner that the job will run on
    runs-on: ubuntu-latest

    # Steps represent a sequence of tasks that will be executed as part of the job
    steps:
      # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it
      - name: checkout
        uses: actions/checkout@v2

      # npm init and build vuepress
      - name: npm init & vuepress build
        run: |
          npm install
          npm run build

      # Runs a set of commands using the runners shell
      - name: git settings actions env
        run: |
          git config --global user.name "Re1one"
          git config --global user.email j901207@gmail.com
          git config --global init.defaultBranch master

      - name: push github page repo
        run: |
          cd docs/.vuepress/dist
          git init
          git add .
          git commit -m "deploy"
          git remote set-url origin https://github.com/Reone1/uoM.git
          git push -f -u origin master:gh-pages
```
일단 세팅 먼저 하고 다음을 진행안하면 문제가 생긴다.  

커밋 먼저 생성 안하고 오리진 세팅하면 오리진 세팅이 안된다.  
막 생긴 local repo이기 때문에 리모트 세팅하려면 먼저 커밋 부터 해야한다.
add하는 과정에서 비동기적으로 코드가 계속 실행된다.

때문에, 순서가 반드시 필요한 경우에는 실행문을 분리하는게 좋다.
그런줄 알았는데 아니었다.
그냥 
토큰이 없어서 세팅이 안된다.

remote add는 https 요청을 보낸다
remote set-url은 ssh 요청을 보낸다.

사용자 인증 방식이 다른건데 설정을 안하면 큰 차이는 없다.
이후에 오는 주소값이 조금 다르다.

add https://`ID`:`PW`@github.com/`ID`/`repoName`.git
set-url #여기 어떡하면 인증정보 보내는지 찾아봐야 한다.git@github.com:`ID`/`repoName`.git

토큰을 안달고 싶엇는데 토큰 달면 된다.